<template>
  <Page class="base-layout" :class="{ 'base-layout--loaded' : loaded }">
    <div class="base-layout-load">
      <p class="base-layout-load-spinner s-center-align s-low-blend">
        <strong>Just a sec!</strong>
      </p>
      <p class="base-layout-load-spinner base-layout-load-spinner--longer s-center-align s-low-blend s-sml-size">
        Hmm, this is taking longer than usual.<br />Try reloading the page.
      </p>
    </div>
    <div class="base-layout-content">
      <slot></slot>
    </div>
    <slot name="outer">

    </slot>
  </Page>
</template>

<script>
import Page from "@/components/Page"

export default {
  components: {
    Page
  },
  props: {
    loaded: {
      default: true,
      type: Boolean
    }
  }
}
</script>

<style lang="scss">
@import "@/scss/shared/_variables.scss";

.base-layout {
  &.base-layout--loaded {
    .base-layout-content {
      display: block;
    }

    .base-layout-load {
      display: none;
    }
  }

  .base-layout-contet {
    display: none;
  }

  .base-layout-load {
    display: block;
    padding-bottom: $padding;
    padding-top: $padding;

    .base-layout-load-spinner {
      animation: to-visible 0s 1s forwards;
      visibility: hidden;

      &.base-layout-load-spinner--longer {
        animation-delay: 5s;
      }
    }
  }
}
</style>
